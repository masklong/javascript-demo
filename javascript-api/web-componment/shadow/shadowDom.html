<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>shadowDom</title>
  </head>
  <body></body>
  <script>
    for (let color of ['red', 'green', 'blue']) {
      const div = document.createElement('div')
      // div 是影子宿主，shadowDOM是影子根
      const shadowDOM = div.attachShadow({ mode: 'open' })
      document.body.appendChild(div)
      shadowDOM.innerHTML = `
      <p>Make me ${color}</p>
      <style>
      p {
        color: ${color};
      }
      </style>
    `
    }
    function countP(node) {
      console.log(node.querySelectorAll('p').length)
    }
    countP(document) //0
    for (let element of document.querySelectorAll('div')) {
      countP(element.shadowRoot) // 获取影子DOM
    }
    //1
    //1
    //1
  </script>
</html>
